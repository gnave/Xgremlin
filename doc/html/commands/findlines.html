<head>
<title> findlines </title>
</head>

<body bgcolor="#ffffff">
<a href="../xgremlin.html"> <b>Top level</b> </a><b>.....</b>
<a href="alphalist.html"> <b>Alphabetical list</b> </a><b>.....</b>
<a href="categorylist.html"> <b>Command categories</b> </a>
<hr>
  
<h2>findlines</h2><p>

<b>Syntax:</b> <kbd>findlines</kbd> <i> &lt smin &gt [ &lt mode &gt ]</i><p>

All lines in the <b>r</b> array stronger than <b>smin</b> are listed by position
and stored in an internal line list. The optional <b>mode</b> parameter determines
how the wavenumber of the line maximum is calculated:

<dl>
<dt> <b>0</b>  
<dd> use average of peak position and second derivative (<b>default</b>)<p>
<dt> <b>1</b>  
<dd> use peak position only <p>
<dt> <b>2</b>  
<dd> use second derivative only<p>
<dt> <b>10,11,12</b> 
<dd> as 0,1,2 but preceded by a 2-point gaussian filter<p>
<dt> <b>20,21,22</b> 
<dd>as 0,1,2 but preceded by a 4-point gaussian filter
</dl>


Data in <b>r</b> are not affected but the contents of <b>tr</b>
 is overwritten by the parameter tables.<p>

The filtered versions are useful for under-resolved data, to
prevent the ringing points being picked up as lines. A mode value
of 20 is good enough for most purposes.<p>

The type of lines detected (emission or absorption) is
determined by the current value of <b>neoa</b>, which is usually set
in the header . Negative values are for absorption and positive
are for emission.  <b>neoa</b> may also be set by 
<a href="info.html">info</a>. <b>smin</b> is not
compared to the actual intensity/depth but to a rough
approximation derived solely from derivatives.<p>

<b>Note:</b><br>
The internal linelist created by <b>findlines</b> may be written to a 
line list file after creating a new file with the <a href="open.html">open</a>
command.<p><br>

<h3>Examples:</h3>
<dl>
<dt> <kbd>findlines 15.0</kbd>
<dd> will fine all lines in the <b>r</b> array with a line strength &gt 15.0
</dl>
<p><br>

<h3>Related commands:</h3>
<menu>
<li><a href="linelist.html"> linelist </a>
<li><a href="open.html">open </a>
</menu>
 
</body>

